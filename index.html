<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>FanWorld Feed & Post</title>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Barlow:wght@400;700&display=swap" rel="stylesheet">
<style>
/* Box sizing and prevent iOS text-size auto-zoom */
*, *:before, *:after { box-sizing: border-box; }
html, body { max-width: 100%; overflow-x: hidden; -webkit-text-size-adjust: 100%; }

body, header, input, .container, .main-feed-flex, .posts-column,
.welcome-box, .welcome-box h2, .welcome-box p, .post-title,
.post-text, .post-actions, .back-btn, .credit,
.similar-posts-section, .similar-posts-title, .similar-post-card {
    font-family: 'Barlow', Arial, sans-serif !important;
}
body { background: #fff; margin: 0; color: #222; }
header { display: flex; justify-content: space-between; align-items: center; padding: 18px 24px; background: #e0d7c3; color: #222; box-shadow: 0 2px 10px #0001; }
#siteTitle { font-weight: 700; font-size: 1.6rem; letter-spacing: 0.04em; }
input, textarea, select, button { font-size: 16px; }
#searchBar { padding: 8px 14px; font-size: 1rem; border-radius: 7px; border: 1px solid #bbb; width: 220px; transition: border-color 0.2s; outline: none; background: #fff;}
#searchBar:focus { border-color: #b69967; }
.container { padding: 28px 14px; max-width: 940px; margin: 28px auto 0 auto; background: #fff; border-radius: 14px; min-height: 330px; }
.main-feed-flex { display: flex; flex-direction: row; align-items: flex-start; gap: 20px; min-height: 330px; background: #fff; }
.posts-column { flex: 1; display: grid; grid-template-columns: repeat(auto-fill,minmax(220px,1fr)); gap: 16px; }

/* Sidebar tweaks */
.welcome-box { width: 240px; flex-shrink: 0; padding: 16px; border-radius: 12px; background:#f9f2e7; text-align:center; }
.welcome-box a { color:#b69967; text-decoration:none; font-weight:700; }
.welcome-box a:hover { text-decoration:underline; }

/* Post card & title box */
.post-tile { position: relative; cursor:pointer; border-radius:12px; overflow:hidden; }
.post-tile img { width:100%; border-radius:12px; display:block; }
.tile-overlay { position:absolute; bottom:0; left:0; width:100%; background:rgba(0,0,0,0.55); color:#fff; padding:6px 8px; font-size:0.9rem; display:flex; flex-direction:column; gap:2px; border-radius:0 0 12px 12px; }
.tile-overlay .title-box { background:rgba(255,255,255,0.85); color:#222; padding:4px 6px; border-radius:6px; font-weight:700; display:flex; justify-content:space-between; align-items:center; font-size:0.9rem; }
.tile-overlay .title-box span.view-more { font-size:0.65rem; font-weight:400; opacity:0.8; }

.similar-posts-section { margin-top:16px; }
.similar-posts-title { font-weight:700; margin-bottom:8px; }
.similar-posts-list { display:flex; gap:10px; overflow-x:auto; padding-bottom:8px; }
.similar-post-card { min-width:120px; cursor:pointer; }
.similar-post-card img { width:100%; border-radius:8px; }

.post-card img.single { width:100%; border-radius:12px; margin-bottom:12px; }

#policyModal { position: fixed; inset: 0; background: rgba(0,0,0,0.45); z-index: 9999; display: flex; align-items: center; justify-content: center; }
#policyModal .modal-inner { background: #fff; padding: 20px; border-radius: 12px; max-width: 92vw; width: 420px; box-shadow: 0 8px 32px rgba(0,0,0,0.18); font-family: 'Barlow', sans-serif; }
#policyModal h2 { margin-top: 0; font-size: 1.05rem; }
#policyModal p { margin-bottom: 12px; font-size: 0.98rem; }
#policyModal label { display: flex; align-items: center; gap: 8px; font-size: 0.98rem; }
#policyModal button { padding: 9px 16px; border-radius: 8px; background: #b69967; color: #fff; border: none; font-weight: 700; cursor: pointer; }

@media(max-width:1020px){ .container{max-width:99vw;} .main-feed-flex{flex-direction:column;} .welcome-box{width:98vw;max-width:400px;margin:0 auto 10px auto;} }
@media(max-width:800px){ #siteTitle{font-size:1.4rem;} .posts-column{grid-template-columns:repeat(auto-fill,minmax(140px,1fr));} }
@media(max-width:600px){ .welcome-box{width:98vw;} }
</style>
</head>
<body>

<!-- FanWorld Policy Modal -->
<div id="policyModal" aria-hidden="false">
  <div class="modal-inner">
    <h2>FanWorld Policy</h2>
    <p>I agree to the FanWorld Policy: All content is properly credited, shared only for sweet entertainment and enjoyment, not intended to harm anyone or any platform. I understand I can only access FanWorld after agreeing. <strong>Sweet enjoyment is the goal!</strong></p>
    <div style="margin-bottom:12px;">
      <label><input type="checkbox" id="agreeBox"> I agree to the FanWorld Policy.</label>
    </div>
    <div style="text-align:right;"><button id="agreeBtn" disabled>Enter FanWorld</button></div>
  </div>
</div>

<header>
    <div id="siteTitle">FanWorld</div>
    <input id="searchBar" placeholder="Search..." />
</header>

<div class="container main-feed-flex" id="mainFeed">
    <div class="posts-column" id="postsList">
        <!-- Posts will render here -->
    </div>
    <div class="welcome-box">
        <h2>Check this out on Instagram right now!</h2>
        <a href="https://www.instagram.com/" target="_blank">Go to Instagram</a>
    </div>
</div>

<div class="container" style="display:none;" id="singlePostView"></div>

<script>
// Policy modal
const policyModal = document.getElementById('policyModal');
const agreeBox = document.getElementById('agreeBox');
const agreeBtn = document.getElementById('agreeBtn');
function openPolicy(){ policyModal.style.display = 'flex'; document.body.style.overflow='hidden'; }
function closePolicy(){ policyModal.style.display = 'none'; document.body.style.overflow=''; }
agreeBox.addEventListener('change',()=>{ agreeBtn.disabled = !agreeBox.checked; });
agreeBtn.addEventListener('click', closePolicy);
window.addEventListener('DOMContentLoaded',()=>{ openPolicy(); renderGrid(posts); });

// Posts data
const posts = [
  {id:1, image:'https://images.unsplash.com/photo-1506744038136-46273834b3fb?w=640', title:'Cheer Squad', celebrity:'Taylor Swift', text:'Swifties unite at the world tour!', credit:'Photo by Alex Brown', creditUrl:'https://unsplash.com/photos/1506744038136-46273834b3fb'},
  {id:2, image:'https://images.unsplash.com/photo-1504652623000-1801eb50e74a?w=640', title:'Victory Fans', celebrity:'Cristiano Ronaldo', text:'Real Madrid fans celebrating big wins!', credit:'Getty Images', creditUrl:'https://gettyimages.com/'},
  {id:3, image:'https://images.unsplash.com/photo-1465101046530-73398c7f28ca?w=640', title:'Rock On', celebrity:'Beyoncé', text:'A sea of lights from Queen Bey\'s fans!', credit:'Photo by Jessica Wu'},
  {id:4, image:'https://images.unsplash.com/photo-1416339306562-f3d12fefd36f?w=640', title:'Football Fever', celebrity:'Lionel Messi', text:'Messi fans everywhere show team spirit.', credit:'Unsplash / UnsplashSports', creditUrl:'https://unsplash.com/'},
  {id:5, image:'https://images.unsplash.com/photo-1492684223066-81342ee5ff30?w=640', title:'Iconic Night', celebrity:'Billie Eilish', text:'Billie fans go wild at concert event.', credit:'Photo by Ben Oliver'},
  // Nagma legal post screenshot + credit
  {id:6, image:'https://your-legal-screenshot-url.com/nagma_post.png', title:'Cutie Nagma with the Dilip', celebrity:'@nagma', text:'Screenshot of her Instagram reel', credit:'Instagram', creditUrl:'https://www.instagram.com/p/DRbrs-ojBPP/'}
];

function escapeHtml(str){ if(!str && str!==0) return ''; return String(str).replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;').replaceAll('"','&quot;').replaceAll("'","&#39;"); }

function renderGrid(postsArr){
  const postsList = document.getElementById('postsList');
  postsList.innerHTML = postsArr.map(post=>`
    <div class="post-tile" onclick="showPost(${post.id})">
      <img src="${escapeHtml(post.image)}" alt="${escapeHtml(post.title)}">
      <div class="tile-overlay">
        <div class="title-box">
          ${escapeHtml(post.title)} <span class="view-more">View More</span>
        </div>
        <span style="font-size:0.75em;">${escapeHtml(post.celebrity)}</span>
      </div>
    </div>
  `).join('');
}

let currentPost=null;

function showPost(id){
  const post = posts.find(p=>p.id===id);
  if(!post) return;
  currentPost=post;
  document.getElementById('mainFeed').style.display='none';
  document.getElementById('singlePostView').style.display='block';
  document.getElementById('singlePostView').innerHTML=`
    <button class="back-btn" onclick="goBack()">← Back</button>
    <div class="post-card">
      <img class="single" src="${escapeHtml(post.image)}" alt="${escapeHtml(post.title)}">
      <div class="celebrity-credit">${escapeHtml(post.celebrity)}</div>
      <div class="post-title">${escapeHtml(post.title)}</div>
      <div class="credit">Credit: ${post.creditUrl ? `<a href="${escapeHtml(post.creditUrl)}" target="_blank" rel="noopener">${escapeHtml(post.credit)}</a>` : escapeHtml(post.credit || 'Unknown')}</div>
      <div class="post-text">${escapeHtml(post.text)}</div>
    </div>
    <div class="similar-posts-section">
      <div class="similar-posts-title">Similar posts:</div>
      <div class="similar-posts-list">
        ${renderSimilarPosts(post.id)}
      </div>
    </div>
  `;
}

function renderSimilarPosts(currentId){
  return posts.filter(p=>p.id!==currentId).map(p=>`
    <div class="similar-post-card" onclick="showPost(${p.id})">
      <img src="${escapeHtml(p.image)}" alt="${escapeHtml(p.title)}">
    </div>
  `).join('');
}

function goBack(){
  document.getElementById('mainFeed').style.display='flex';
  document.getElementById('singlePostView').style.display='none';
}
</script>

</body>
</html>
  
