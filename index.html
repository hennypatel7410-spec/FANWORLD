#searchBar:focus { border-color: #b69967; }
.container { padding: 28px 14px; max-width: 940px; margin: 28px auto 0 auto; background: #fff; border-radius: 14px; min-height: 330px; }
.main-feed-flex { display: flex; flex-direction: row; align-items: flex-start; gap: 20px; position: relative; min-height: 330px; background: #fff; }
.posts-column { flex: 2 1 0%; min-width: 0; }
.welcome-box { flex: 0 0 225px; width: 225px; min-height: 140px; max-height: 600px; background: #fff; border-radius: 14px; box-shadow: 0 2px 12px #0002; padding: 17px 18px; text-align: left; display: flex; flex-direction: column; justify-content: flex-start; align-items: flex-start; margin-top: 0;}
.welcome-box h2 { margin: 0 0 7px 0; font-size: 1.13rem; font-weight: 700;}
.welcome-box p { margin: 0; font-size: 0.97rem; color: #454545; line-height: 1.35;}
#postsList { display: grid; grid-template-columns: repeat(auto-fill, minmax(170px, 1fr)); gap: 18px; margin-top:4px;}
.post-tile { cursor: pointer; border-radius: 13px; overflow: hidden; transition: transform 0.12s, box-shadow 0.15s; box-shadow: 0 2px 11px #0001; background: none; position: relative; }
.post-tile:active, .post-tile:hover { transform: translateY(-8px) scale(1.025); box-shadow: 0 5px 22px #b6996733; }
.tile-img { display:block; width:100%; min-height:130px; max-height:210px; object-fit:cover; border-radius: 13px; background:#fff; }
.tile-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: rgba(0,0,0,0.5);
    color: #fff;
    padding: 6px 10px;
    border-bottom-left-radius: 13px;
    border-bottom-right-radius: 13px;
    font-size: 0.85em;
    font-weight: 600;
    display: flex;
    flex-direction: column;
}
.post-card { background: #fff; padding: 18px; margin: 20px auto; max-width: 510px; border-radius: 12px; box-shadow: 0 2px 18px #0002; display: flex; flex-direction: column; align-items: center; cursor: default; transition: box-shadow 0.2s;}
.tile-img.single { max-width: 440px; max-height: 300px; border-radius: 14px; margin-bottom: 12px; }
.post-title { font-size: 1.3rem; font-weight: 700; margin-bottom: 4px; text-align: center; display:block; }
.celebrity-credit { font-family: 'Pacifico', cursive !important; font-size: 1.12em; color: #b69967; font-weight: 400; margin-bottom: 12px; margin-top: 2px; text-align: center; letter-spacing: 1px; display:block; }
.post-text { font-size: 1rem; margin-bottom: 10px; text-align: center; display:block; }
.credit { font-size: 0.96em; color: #777; margin-top: 5px; margin-bottom: 10px; font-style: italic; text-align: center; width: 100%; }
.credit a {color: #007fff; text-decoration: underline;}
.back-btn { align-self: flex-start; margin: 10px 0 0 0; background: #e0d7c3; border: none; border-radius: 7px; padding: 9px 16px; cursor: pointer; font-weight: 700; color: #333; font-size: 1em; transition: background 0.15s; margin-bottom: 8px; display:flex; align-items:center; gap:6px; }
.back-btn:hover { background: #b69967; color: #fff; }
.similar-posts-section { background: #f7eed9; border-radius: 10px; padding: 14px; width:98%; margin-top:20px; }
.similar-posts-title { font-weight:700; margin-bottom:8px; }
.similar-posts-list { display:grid; grid-template-columns: repeat(auto-fill,minmax(120px,1fr)); gap:10px; }
.similar-post-card { background:#fff; padding:10px 12px; border-radius:9px; box-shadow:0 1px 7px #ddd; cursor:pointer; transition:box-shadow .2s; display:flex; flex-direction:column; align-items:center; }
.similar-post-card:hover { box-shadow:0 2px 14px #b6996766; }
.similar-thumb { max-width:100%; height:80px; object-fit:cover; border-radius:7px; margin-bottom:6px; }

/* Policy modal specific styles (responsive) */
#policyModal { position: fixed; inset: 0; background: rgba(0,0,0,0.45); z-index: 9999; display: flex; align-items: center; justify-content: center; }
#policyModal .modal-inner { background: #fff; padding: 20px; border-radius: 12px; max-width: 92vw; width: 420px; box-shadow: 0 8px 32px rgba(0,0,0,0.18); font-family: 'Barlow', sans-serif; }
@@ -110,20 +71,20 @@ <h2>Welcome to FanWorld!</h2>
<div class="container" style="display:none;" id="singlePostView"></div>

<script>
// --- FanWorld Policy Modal JS (improvements) ---
// --- FanWorld Policy Modal JS ---
const policyModal = document.getElementById('policyModal');
const agreeBox = document.getElementById('agreeBox');
const agreeBtn = document.getElementById('agreeBtn');

function openPolicy(){
  policyModal.style.display = 'flex';
  policyModal.setAttribute('aria-hidden','false');
  document.body.style.overflow = 'hidden'; // prevent background zoom/scroll
  document.body.style.overflow = 'hidden';
}
function closePolicy(){
  policyModal.style.display = 'none';
  policyModal.setAttribute('aria-hidden','true');
  document.body.style.overflow = ''; // restore
  document.body.style.overflow = '';
}

agreeBox.addEventListener('change', function() {
@@ -133,26 +94,49 @@ <h2>Welcome to FanWorld!</h2>
  closePolicy();
});

// Show modal on load
window.addEventListener('DOMContentLoaded', function() {
  openPolicy();
});

// FanWorld main JS (unchanged, minor safety checks)
// --- FanWorld main JS ---
const posts = [
    {id: 1, image: 'https://images.unsplash.com/photo-1506744038136-46273834b3fb?w=640', title: 'Cheer Squad', celebrity: 'Taylor Swift', text: 'Swifties unite at the world tour!', credit: 'Photo by Alex Brown', creditUrl: 'https://unsplash.com/photos/1506744038136-46273834b3fb'},
    {id: 2, image: 'https://images.unsplash.com/photo-1504652623000-1801eb50e74a?w=640', title: 'Victory Fans', celebrity: 'Cristiano Ronaldo', text: 'Real Madrid fans celebrating big wins!', credit: 'Getty Images', creditUrl:'https://gettyimages.com/'},
    {id: 3, image: 'https://images.unsplash.com/photo-1465101046530-73398c7f28ca?w=640', title: 'Rock On', celebrity: 'Beyoncé', text: 'A sea of lights from Queen Bey\'s fans!', credit: 'Photo by Jessica Wu'},
    {id: 4, image: 'https://images.unsplash.com/photo-1416339306562-f3d12fefd36f?w=640', title: 'Football Fever', celebrity: 'Lionel Messi', text: 'Messi fans everywhere show team spirit.', credit: 'Unsplash / UnsplashSports', creditUrl:'https://unsplash.com/'},
    {id: 5, image: 'https://images.unsplash.com/photo-1492684223066-81342ee5ff30?w=640', title: 'Iconic Night', celebrity: 'Billie Eilish', text: 'Billie fans go wild at concert event.', credit: 'Photo by Ben Oliver'},
    // --- NEW POST: Nagma ---
    {id: 6, image: 'https://www.instagram.com/p/DRbrs-ojBPP/embed', title: 'Cutie Nagma with the Dilip', celebrity: 'From Instagram', text: '', credit: 'Nagma / Instagram', creditUrl:'https://www.instagram.com/p/DRbrs-ojBPP/'}
];

let currentPost = null;
let lastViewedPostId = null;

function renderGrid(postsArr){
    const postsList = document.getElementById('postsList');
    postsList.innerHTML = postsArr.map(post => `\n        <div class="post-tile" onclick="showPost(${post.id})">\n            <img class="tile-img" src="${escapeHtml(post.image)}" alt="${escapeHtml(post.title)}">\n            <div class="tile-overlay">\n                <span style="font-weight:700;">${escapeHtml(post.title)}</span>\n                <span style="font-size:0.85em;">${escapeHtml(post.celebrity)}</span>\n            </div>\n        </div>\n    `).join('');
    postsList.innerHTML = postsArr.map(post => {
        if(post.id === 6){
            return `
            <div class="post-tile" onclick="showPost(${post.id})">
                <iframe src="${post.image}" allowfullscreen style="width:100%; max-width:400px; height:480px; border:none;"></iframe>
                <div class="tile-overlay">
                    <span style="font-weight:700;">${escapeHtml(post.title)}</span>
                    <span style="font-size:0.85em;">${escapeHtml(post.celebrity)}</span>
                </div>
            </div>
            `;
        } else {
            return `
            <div class="post-tile" onclick="showPost(${post.id})">
                <img class="tile-img" src="${escapeHtml(post.image)}" alt="${escapeHtml(post.title)}">
                <div class="tile-overlay">
                    <span style="font-weight:700;">${escapeHtml(post.title)}</span>
                    <span style="font-size:0.85em;">${escapeHtml(post.celebrity)}</span>
                </div>
            </div>
            `;
        }
    }).join('');
}

function showPost(id){
@@ -161,7 +145,34 @@ <h2>Welcome to FanWorld!</h2>
    currentPost = post;
    lastViewedPostId = id;
    document.getElementById('mainFeed').style.display='none';
    document.getElementById('singlePostView').innerHTML=`\n        <button class="back-btn" onclick="goBack()">← Back</button>\n        <div class="post-card">\n            <img class="tile-img single" src="${escapeHtml(post.image)}" alt="${escapeHtml(post.title)}">\n            <div class="celebrity-credit">${escapeHtml(post.celebrity)}</div>\n            <div class="post-title">${escapeHtml(post.title)}</div>\n            <div class="credit">Credit: ${post.creditUrl ? `<a href="${escapeHtml(post.creditUrl)}" target="_blank" rel="noopener">${escapeHtml(post.credit)}</a>` : escapeHtml(post.credit || 'Unknown')}</div>\n            <div class="post-text">${escapeHtml(post.text)}</div>\n        </div>\n        <div class="similar-posts-section">\n            <div class="similar-posts-title">Similar posts:</div>\n            <div class="similar-posts-list">\n                ${renderSimilarPosts(post.id)}\n            </div>\n        </div>\n    `;
    if(post.id === 6){
        document.getElementById('singlePostView').innerHTML=`
        <button class="back-btn" onclick="goBack()">← Back</button>
        <div class="post-card">
            <div class="post-title">${escapeHtml(post.title)}</div>
            <div class="celebrity-credit">${escapeHtml(post.celebrity)}</div>
            <iframe src="${post.image}" allowfullscreen style="width:100%; max-width:400px; height:480px; border:none;"></iframe>
            <div class="credit">Credit: <a href="${escapeHtml(post.creditUrl)}" target="_blank" rel="noopener">${escapeHtml(post.credit)}</a></div>
        </div>
        `;
    } else {
        document.getElementById('singlePostView').innerHTML=`
        <button class="back-btn" onclick="goBack()">← Back</button>
        <div class="post-card">
            <img class="tile-img single" src="${escapeHtml(post.image)}" alt="${escapeHtml(post.title)}">
            <div class="celebrity-credit">${escapeHtml(post.celebrity)}</div>
            <div class="post-title">${escapeHtml(post.title)}</div>
            <div class="credit">Credit: ${post.creditUrl ? `<a href="${escapeHtml(post.creditUrl)}" target="_blank" rel="noopener">${escapeHtml(post.credit)}</a>` : escapeHtml(post.credit || 'Unknown')}</div>
            <div class="post-text">${escapeHtml(post.text)}</div>
        </div>
        <div class="similar-posts-section">
            <div class="similar-posts-title">Similar posts:</div>
            <div class="similar-posts-list">
                ${renderSimilarPosts(post.id)}
            </div>
        </div>
        `;
    }
    document.getElementById('singlePostView').style.display='block';
}

@@ -171,7 +182,15 @@ <h2>Welcome to FanWorld!</h2>
}

function renderSimilarPosts(currentId){
    return posts.filter(p=>p.id!==currentId).map(p=>`\n        <div class="similar-post-card" onclick="showPost(${p.id})">\n            <img class="similar-thumb" src="${escapeHtml(p.image)}" alt="${escapeHtml(p.title)}">\n            <div style="text-align:center;">\n                <div class="post-title" style="display:block;font-size:1em;">${escapeHtml(p.title)}</div>\n                <div class="celebrity-credit" style="display:block;font-size:.96em;">${escapeHtml(p.celebrity)}</div>\n            </div>\n        </div>\n    `).join('');
    return posts.filter(p=>p.id!==currentId).map(p=>`
        <div class="similar-post-card" onclick="showPost(${p.id})">
            ${p.id===6 ? `<iframe src="${p.image}" allowfullscreen style="width:100%; max-width:180px; height:220px; border:none;"></iframe>` : `<img class="similar-thumb" src="${escapeHtml(p.image)}" alt="${escapeHtml(p.title)}">`}
            <div style="text-align:center;">
                <div class="post-title" style="display:block;font-size:1em;">${escapeHtml(p.title)}</div>
                <div class="celebrity-credit" style="display:block;font-size:.96em;">${escapeHtml(p.celebrity)}</div>
            </div>
        </div>
    `).join('');
}

function escapeHtml(str) {
@@ -188,37 +207,22 @@ <h2>Welcome to FanWorld!</h2>
let searchTimer = null;

if (searchInput) {
  searchInput.addEventListener('input', function(e){
  searchInput.addEventListener('input', function(){
      clearTimeout(searchTimer);
      searchTimer = setTimeout(() => {
          const q = e.target.value.trim().toLowerCase();

          if (!q) {
              if (lastViewedPostId) {
                  showPost(lastViewedPostId);
              } else {
                  renderGrid(posts);
                  document.getElementById('mainFeed').style.display = 'flex';
                  document.getElementById('singlePostView').style.display = 'none';
              }
              return;
          }

          const results = posts.filter(p =>
              (p.title || '').toLowerCase().includes(q) ||
              (p.celebrity || '').toLowerCase().includes(q) ||
              (p.text || '').toLowerCase().includes(q) ||
              (p.credit || '').toLowerCase().includes(q)
          );

          renderGrid(results);
          document.getElementById('mainFeed').style.display = 'flex';
          document.getElementById('singlePostView').style.display = 'none';
      }, 150);
          const term = searchInput.value.toLowerCase();
          const filtered = posts.filter(p => p.title.toLowerCase().includes(term) || p.celebrity.toLowerCase().includes(term));
          renderGrid(filtered);
      }, 300);
  });
}

// Render initial posts
renderGrid(posts);

</script>
</body>
</html>
</html>
